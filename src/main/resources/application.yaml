#
# Application config
# This file contains app configuration
#
app:
  version: ${quarkus.application.version:UNRELEASED}

# HTTP
quarkus:
  http:
    root-path: /
    port: 8000

  # Rate Limiting (Bucket4j)
  rate-limiter:
    buckets:
      authentication:
        limits:
          - permitted-uses: 2
            period: 1S
          - permitted-uses: 15
            period: 30M

  # Database access
  datasource:
    username: ${DB_USERNAME:quarkus}
    password: ${DB_PASSWORD:quarkus}
    jdbc:
      url: jdbc:${DB_URL:mysql://localhost/quarkus}

  # Configure Hibernate
  hibernate-orm:
    log:
      sql: false

  # Liquibase config
  liquibase:
    change-log: db.changelog.yaml
    migrate-at-start: true
    validate-on-migrate: true
    clean-at-start: false
    database-change-log-lock-table-name: db_changelog_lock
    database-change-log-table-name: db_changelog


  # Rest clients
  rest-client:
    # Hanko (JWT validation)
    hanko:
      url: https://auth.myvana.dev

# JWT verification
mp:
  jwt:
    verify:
      issuer: https://auth.myvana.dev
      audiences:
        - logistiek.myvana.dev
        - localhost
      publickey:
        location: https://auth.myvana.dev/.well-known/jwks.json
