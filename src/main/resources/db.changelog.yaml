databaseChangeLog:
  - changeSet:
      id: 2025-12-001
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: teams
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_teams
              - column:
                  name: name
                  type: varchar(50)
                  constraints:
                    unique: true
                    uniqueConstraintName: un_teams_name
                    nullable: false
              - column:
                  name: icon
                  type: varchar(50)
                  constraints:
                    nullable: true
              - column:
                  name: colour
                  type: varchar(50)
                  constraints:
                    nullable: true

  - changeSet:
      id: 2025-12-002
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: users
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_users
              - column:
                  name: provider_id
                  type: varchar(50)
                  constraints:
                    uniqueConstraintName: un_users_provider_id
                    unique: true
                    nullable: false
              - column:
                  name: name
                  type: varchar(100)
              - column:
                  name: email
                  type: varchar(100)
              - column:
                  name: team_id
                  type: bigint
              - column:
                  name: roles
                  type: json
                  remarks: penis

        - addForeignKeyConstraint:
            constraintName: fk_users_team_id
            baseTableName: users
            baseColumnNames: team_id
            referencedTableName: teams
            referencedColumnNames: id

  - changeSet:
      id: 2025-12-003
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: districts
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_districts
              - column:
                  name: name
                  type: varchar(50)
                  constraints:
                    unique: true
                    uniqueConstraintName: un_districts_name
                    nullable: false
              - column:
                  name: colour
                  type: varchar(50)
                  constraints:
                    nullable: true
              - column:
                  name: team_id
                  type: bigint
                  constraints:
                    nullable: true

        - addForeignKeyConstraint:
            constraintName: fk_districts_team_id
            baseTableName: districts
            baseColumnNames: team_id
            referencedTableName: teams
            referencedColumnNames: id

  - changeSet:
      id: 2025-12-004
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - loadData:
            tableName: districts
            file: districts.csv
            columns:
              - column:
                  name: name
                  header: name
              - column:
                  name: colour
                  header: colour

  - changeSet:
      id: 2025-12-005
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: vendors
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_vendors
              - column:
                  name: number
                  type: varchar(10)
              - column:
                  name: number_numeric
                  type: smallint
              - column:
                  name: name
                  type: varchar(200)
              - column:
                  name: district_id
                  type: bigint
                  constraints:
                    nullable: true

        - addForeignKeyConstraint:
            constraintName: fk_vendors_district_id
            baseTableName: vendors
            baseColumnNames: district_id
            referencedTableName: districts
            referencedColumnNames: id

  - changeSet:
      id: 2025-12-006
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: threads
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_threads
              - column:
                  name: vendor_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: user_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: team_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: assigned_user_id
                  type: bigint
              - column:
                  name: assigned_team_id
                  type: bigint
              - column:
                  name: subject
                  type: varchar(200)
                  constraints:
                    nullable: false
              - column:
                  name: read
                  type: bit
                  defaultValueBoolean: false
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: datetime
                  constraints:
                    nullable: false
              - column:
                  name: updated_at
                  type: datetime
                  constraints:
                    nullable: false
              - column:
                  name: resolved_at
                  type: datetime
                  constraints:
                    nullable: true

        - addForeignKeyConstraint:
            constraintName: fk_threads_vendor_id
            baseTableName: threads
            baseColumnNames: vendor_id
            referencedTableName: vendors
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_threads_user_id
            baseTableName: threads
            baseColumnNames: user_id
            referencedTableName: users
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_threads_team_id
            baseTableName: threads
            baseColumnNames: team_id
            referencedTableName: teams
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_threads_assigned_team_id
            baseTableName: threads
            baseColumnNames: assigned_team_id
            referencedTableName: teams
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_threads_assigned_user_id
            baseTableName: threads
            baseColumnNames: assigned_user_id
            referencedTableName: users
            referencedColumnNames: id

  - changeSet:
      id: 2025-12-007
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: thread_updates
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_thread_updates
              - column:
                  name: thread_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: user_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: team_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: type
                  type: varchar(20)
                  constraints:
                    nullable: false
              - column:
                  name: created_at
                  type: datetime
                  constraints:
                    nullable: false
              - column:
                  name: entity_id
                  type: bigint
              - column:
                  name: message
                  type: text

        - addForeignKeyConstraint:
            constraintName: fk_thread_updates_thread_id
            baseTableName: thread_updates
            baseColumnNames: thread_id
            referencedTableName: threads
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_thread_updates_user_id
            baseTableName: thread_updates
            baseColumnNames: user_id
            referencedTableName: users
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_thread_updates_team_id
            baseTableName: thread_updates
            baseColumnNames: team_id
            referencedTableName: teams
            referencedColumnNames: id

  - changeSet:
      id: 2025-12-008
      author: Roelof Roos
      created: 2025-12-07
      changes:
        - createTable:
            tableName: thread_teams
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_thread_teams
              - column:
                  name: thread_id
                  type: bigint
                  constraints:
                    nullable: false
              - column:
                  name: team_id
                  type: bigint
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            constraintName: fk_thread_teams_thread_id
            baseTableName: thread_teams
            baseColumnNames: thread_id
            referencedTableName: threads
            referencedColumnNames: id

        - addForeignKeyConstraint:
            constraintName: fk_thread_teams_team_id
            baseTableName: thread_teams
            baseColumnNames: team_id
            referencedTableName: teams
            referencedColumnNames: id

  - changeSet:
      id: 2025-12-009
      author: Roelof Roos
      created: 2025-12-30
      changes:
        - dropColumn:
            tableName: vendors
            columnName: number_numeric
        - addColumn:
            tableName: vendors
            columns:
              - column:
                  name: number_numeric
                  type: bigint

  - changeSet:
      id: 2025-12-010
      author: Roelof Roos
      created: 2025-12-30
      changes:
        - addColumn:
            tableName: teams
            columns:
              - column:
                  name: required
                  type: bool
                  defaultValueBoolean: false

  - changeSet:
      id: 2025-12-011
      author: Roelof Roos
      created: 2025-12-30
      changes:
        - renameColumn:
            tableName: threads
            oldColumnName: read
            newColumnName: is_read
            columnDataType: bit

  - changeSet:
      id: 2026-001
      author: Roelof Roos
      created: 2026-01-30
      changes:
        - addColumn:
            tableName: vendors
            columns:
              - column:
                  name: vendor_type
                  type: varchar(30)
                  defaultValue: shop

  - changeSet:
      id: 2026-002
      author: Roelof Roos
      created: 2026-02-11
      changes:
        - addColumn:
            tableName: thread_updates
            columns:
              - column:
                  name: file_path
                  type: varchar(200)
              - column:
                  name: file_name
                  type: varchar(200)
              - column:
                  name: file_status
                  type: varchar(10)
